import{a as T,t as C,d as Me}from"../chunks/IJMoEVRx.js";import"../chunks/D0xhmZqL.js";import{p as me,u as Se,s as o,f as D,b as pe,g as a,d,a as h,e as y,c as L,r as A,t as Ce,n as _e,T as Be}from"../chunks/DVmdCokJ.js";import{i as Ie}from"../chunks/nyYEL0NA.js";import{H as xe}from"../chunks/CqbZHWF5.js";import{p as m,s as ce}from"../chunks/D1rJHNN0.js";import{i as Fe}from"../chunks/CJVv8vLi.js";import{C as $e}from"../chunks/CQecHAK4.js";import{D as S}from"../chunks/CjUBkUV9.js";import{I as K,p as O}from"../chunks/CDgYgN1L.js";import{c as ze,C as ue,B as Ee}from"../chunks/CVbmncBi.js";import{H as De}from"../chunks/C2YnBynH.js";var Le=C("<div>Math Error. Please double check the inputs.</div>"),Ae=C("<div> </div> <div> </div>",1),We=C('<h3>Settings</h3> <div class="mt-1">File size:</div> <!> <!> <br><br> <div>Ping latency between client and server:</div> <!> <!> <br><br> <div>Bandwidth of connection between the client and server:</div> <!> <!> <br><br> <div>Client type:</div> <!> <br><br> <div>Internet Protocol Version:</div> <!> <br><br> <h3>Results</h3> <!>',1);function Re(W,R){me(R,!0);const n={ok:!1},s=t=>!isFinite(t)||t<0,P=t=>(-t.b+Math.sqrt(Math.pow(t.b,2)-4*t.a*t.c))/(2*t.a),_=t=>{let i=t.filesizeBytes,e=0,c=0,r=t.mssBytes*10;for(;i>0;){const le=Math.min(r,i),de=le/t.bandwidthBytesPerMs,Pe=Math.max(de,t.pingTimeMs),N=i-le;if(s(N)||N>=i)return n;i=N;const j=e+Pe;if(s(j)||j<=e)return n;e=j;const G=c+1;if(s(G)||G<=c)return n;if(c=G,de>t.pingTimeMs){r=Math.max(1,r/2);break}else if(r*2<t.ssthreshBytes)r*=2;else{const ke=r/t.mssBytes,he=Math.floor((t.ssthreshBytes-r)/t.mssBytes);if(r+=he*t.mssBytes+he/ke*t.mssBytes,s(r))return n;break}}if(i<=0)return{ok:!0,timeElapsedMs:e,roundTripsElapsed:c};const z=t.mssBytes/t.pingTimeMs,l=z/t.pingTimeMs,u=r/t.pingTimeMs,b=Math.max(0,t.bandwidthBytesPerMs-u)/l,E=b*(u+t.bandwidthBytesPerMs)/2;if(s(z)||s(l)||s(u)||s(b)||s(E))return n;const M=Math.min(i,E),V=Math.max(0,P({a:.5*l,b:u,c:-M}));if(i-=M,e+=V,s(i)||s(e))return n;const H=.5*t.bandwidthBytesPerMs/l,U=.75*t.bandwidthBytesPerMs*H,J=Math.floor(i/U);if(s(H)||s(U)||s(J)||(i-=U*J,e+=H*J,s(i)||s(e)))return n;const oe=Math.max(0,P({a:.5*l,b:.5*t.bandwidthBytesPerMs,c:-i}));return s(oe)||(e+=oe,s(e))?n:{ok:!0,timeElapsedMs:e}},B=t=>{let i=Math.round(t);if(i<1e3)return`${i} ms`;if(i=Math.round(t/10),i<1e3){if(i===100)return"1.00 second";let e=(i/100).toString();for(e.length<2&&(e+=".");e.length<4;)e+="0";return`${e} seconds`}if(i=Math.round(t/100),i<600){let e=(i/10).toString();for(e.length<3&&(e+=".");e.length<4;)e+="0";return`${e} seconds`}if(i=Math.round(t/600),i<1e3){if(i===100)return"1.00 minute";let e=(i/100).toString();for(e.length<2&&(e+=".");e.length<4;)e+="0";return`${e} minutes`}if(i=Math.round(t/6e3),i<600){let e=(i/10).toString();for(e.length<3&&(e+=".");e.length<4;)e+="0";return`${e} minutes`}if(i=Math.round(t/36e3),i<1e3){if(i===100)return"1.00 hour";let e=(i/100).toString();for(e.length<2&&(e+=".");e.length<4;)e+="0";return`${e} hours`}if(i=Math.round(t/36e4),i<240){let e=(i/10).toString();for(e.length<3&&(e+=".");e.length<4;)e+="0";return`${e} hours`}if(i=Math.round(t/864e3),i<1e3){if(i===100)return"1.00 day";let e=(i/100).toString();for(e.length<2&&(e+=".");e.length<4;)e+="0";return`${e} days`}if(i=Math.round(t/864e4),i<400){let e=(i/10).toString();for(e.length<3&&(e+=".");e.length<4;)e+="0";return`${e} days`}if(i=Math.round(t/26297460),i<1e3){let e=(i/100).toString();for(e.length<2&&(e+=".");e.length<4;)e+="0";return`${e} months`}if(i=Math.round(t/262974600),i<=120){let e=(i/10).toString();for(e.length<3&&(e+=".");e.length<4;)e+="0";return`${e} months`}return"More than a year"},f=10;let g=h(f),p=h("1");const I=50;let w=h(I);const x=25;let v=h(x),F=h("2"),k=h("1460"),q=h("2147483647"),$=h(!1),Q=h(""),X=h("");Se(()=>{if(!isFinite(a(g))||a(g)===0||!isFinite(a(w))||a(w)===0||!isFinite(a(v))||a(v)===0)return;const t=a(g)*Math.pow(1e3,parseFloat(a(p))),i=a(w),c=a(v)*Math.pow(1e3,parseFloat(a(F)))/8e3;if(s(t)||s(i)||s(c)){d($,!0);return}const r=_({filesizeBytes:t,pingTimeMs:i,bandwidthBytesPerMs:c,mssBytes:parseFloat(a(k)),ssthreshBytes:parseFloat(a(q))});if(!r.ok){d($,!0);return}d(Q,m(B(r.timeElapsedMs))),d(X,m(r.roundTripsElapsed===void 0?"Many":r.roundTripsElapsed.toString())),d($,!1)});var Y=We(),Z=o(D(Y),4);const fe=y(()=>f.toString()),ge=y(()=>O(t=>{d(g,m(t))}));K(Z,{ariaLabel:"Set the file size",get initialValue(){return a(fe)},get parser(){return a(ge)}});var ee=o(Z,2);S(ee,{ariaLabel:"Set the units for the file size",options:[["0","bytes"],["1","KB"],["2","MB"],["3","GB"],["4","TB"],["5","PB"],["6","EB"]],get value(){return a(p)},set value(t){d(p,m(t))}});var te=o(ee,7);const we=y(()=>I.toString()),ve=y(()=>O(t=>{d(w,m(t))}));K(te,{ariaLabel:"Set the ping latency between the client and the server",get initialValue(){return a(we)},get parser(){return a(ve)}});var ie=o(te,2);S(ie,{ariaLabel:"Set the units for the ping latency",value:"",options:[["","Milliseconds"]]});var ae=o(ie,7);const be=y(()=>x.toString()),ye=y(()=>O(t=>{d(v,m(t))}));K(ae,{ariaLabel:"Set the bandwidth of the connection between the client and the server",get initialValue(){return a(be)},get parser(){return a(ye)}});var se=o(ae,2);S(se,{ariaLabel:"Set the units of the bandwidth",options:[["0","bps"],["1","Kbps"],["2","Mbps"],["3","Gbps"],["4","Tbps"],["5","Pbps"],["6","Ebps"]],get value(){return a(F)},set value(t){d(F,m(t))}});var ne=o(se,7);S(ne,{ariaLabel:"Set the client type",options:[["65535","Legacy / Embedded System"],["2147483647","Modern Operating System"]],get value(){return a(q)},set value(t){d(q,m(t))}});var re=o(ne,7);S(re,{ariaLabel:"Set the Internet Protocol version",options:[["1460","IPv4"],["1440","IPv6"]],get value(){return a(k)},set value(t){d(k,m(t))}});var Te=o(re,7);$e(Te,{children:(t,i)=>{var e=Me(),c=D(e);{var r=l=>{var u=Le();T(l,u)},z=l=>{var u=Ae(),b=D(u),E=L(b);A(b);var M=o(b,2),V=L(M);A(M),Ce(()=>{ce(E,`Approximate Download Time: ${a(Q)??""}`),ce(V,`Round Trips to the Server: ${a(X)??""}`)}),T(l,u)};Fe(c,l=>{a($)?l(r):l(z,!1)})}T(t,e)},$$slots:{default:!0}}),T(W,Y),pe()}var qe=C("<h2>The Calculator</h2>"),Ve=C(`<!> <h1 class="text-center">TCP Download Time Calculator</h1> <!> <div class="mt-6">The calculator below helps you estimate how long it will take to download a file using TCP. TCP is
	the unsung hero that makes sure websites load properly and files arrive safely on your computer.
	As you adjust the numbers in the calculator, you'll see the estimated download time update
	instantly below.</div> <br> <!> <h2 class="mt-6 mb-6">What is TCP?</h2> <div class="mt-6">TCP, or Transmission Control Protocol, is a set of rules that lets computers reliably exchange
	information over the internet. Without it, sending a file across the internet would be a disaster!
	Here's why TCP is so important:</div> <ul class="mt-6 svelte-15k0c4k"><li>No Lost Pieces: Imagine sending a puzzle, and some puzzle pieces go missing. Without TCP, the
		receiving computer wouldn't even know that parts of the puzzle never arrived. TCP makes sure all
		the pieces of a file arrive at the destination.</li> <li class="mt-2">No Corrupted Data: What if some puzzle pieces got warped or damaged? TCP ensures the data
		received is exactly the same as the data that was sent.</li> <li class="mt-2">Right Speed, Every Time: If a sender sends a file too quickly, parts of the file can get lost.
		If the sender sends the file too slowly, then the receiver is left waiting forever. TCP manages
		the speed, ensuring a smooth and efficient data transfer.</li></ul> <div class="mt-6 mb-6">TCP solves all of the problems above, which is why it's the standard for moving data across the
	internet.<!> In fact, your device used TCP to load this webpage!</div> <h2 class="mt-6 mb-6">Why is Estimating Download Time with TCP Tricky?</h2> <div class="mt-6">TCP doesn't download files at a steady pace. It's like a car starting from a stop: it begins
	slowly and gradually speeds up until it reaches the maximum speed your internet connection allows
	(your bandwidth).<!></div> <ul class="mt-6 svelte-15k0c4k"><li>For Large Files: When you're downloading a big file, your internet's bandwidth is usually the
		main factor determining how long the download takes. Once TCP gets up to speed, the download
		rate follows your connection's capacity. So, for large files, knowing the file size and your
		bandwidth gives us a good estimate of the download time.</li> <li class="mt-2">For Small Files: Small files are different. They often finish downloading before TCP reaches
		full speed. In these cases, your ping latency becomes the most important factor. Ping latency is
		the time it takes for a tiny piece of information to travel from the sender to the receiver and
		back.</li> <li style="list-style-type: none"><ul class="svelte-15k0c4k"><li>If the ping latency is low, TCP can speed up quickly.</li> <li>If the ping latency is high, TCP has to increase its speed more slowly.</li></ul></li></ul> <div class="mt-6">Because the main factor affecting download speed changes based on the file size, the ping latency,
	and the bandwidth, estimating TCP download times can be complex. This calculator handles this
	challenge by dynamically switching between different mathematical models to give you the most
	accurate estimate for a specific situation.</div> <h2 class="mt-6 mb-6">Limitations</h2> <div class="mt-6">This calculator does not account for packet loss, meaning that in any real-world system, the
	actual download time would probably be greater than the estimate given above.</div> <div class="mt-6">Additionally, this calculator assumes the sender already knows the bandwidth. In the real world,
	systems determine the bandwidth by observing how many data packets get lost in transit.</div> <h2 class="mt-12 mb-6">Bibliography</h2> <!>`,1);function et(W,R){me(R,!1);const n=ze({wikipediaTcp:{title:"Transmission Control Protocol",accessed:"15 Jun 2025",publisher:"Wikimedia Foundation",url:"https://en.wikipedia.org/wiki/Transmission_Control_Protocol"},wikipediaCongestionControl:{title:"TCP congestion control",accessed:"15 Jun 2025",publisher:"Wikimedia Foundation",url:"https://en.wikipedia.org/wiki/TCP_congestion_control"},wikipediaAIMD:{title:"Additive increase/multiplicative decrease",accessed:"15 Jun 2025",publisher:"Wikimedia Foundation",url:"https://en.wikipedia.org/wiki/Additive_increase/multiplicative_decrease"},geeks:{title:"AIMD Algorithm",accessed:"15 Jun 2025",publisher:"Sanchhaya Education Private Limited",url:"https://www.geeksforgeeks.org/computer-networks/aimd-algorithm/"}});Ie();var s=Ve(),P=D(s);De(P,{canonicalUrl:"https://aaronstanek.com/projects/tcp-download-time-calculator",title:"TCP Download Time Calculator",description:"Estimate TCP download times with this calculator. Understand how file size, ping latency, and bandwidth affect download speed. Learn about TCP (Transmission Control Protocol) and its importance for reliable data transfer."});var _=o(P,4);xe(_,{children:(v,F)=>{var k=qe();T(v,k)},$$slots:{default:!0}});var B=o(_,6);Re(B,{});var f=o(B,8),g=o(L(f));ue(g,{get ref(){return n.get.wikipediaTcp}}),_e(),A(f);var p=o(f,4),I=o(L(p));const w=Be(()=>[n.get.wikipediaCongestionControl,n.get.wikipediaAIMD,n.get.geeks]);ue(I,{get ref(){return a(w)}}),A(p);var x=o(p,14);Ee(x,{get highlightPipe(){return n.highlightPipe},get ordered(){return n.ordered}}),T(W,s),pe()}export{et as component};
