import{a as l,t as k,b as C}from"../chunks/IJMoEVRx.js";import{p as ge,a as g,u as ye,f as $e,t as ae,b as _e,g as e,s as a,c as n,d as u,e as N,r as s,n as y}from"../chunks/DVmdCokJ.js";import{p as M,s as c}from"../chunks/D1rJHNN0.js";import{e as xe,i as be}from"../chunks/Dp8kRQl_.js";import{b as Te}from"../chunks/B5Nunh1s.js";import{o as Se,a as ke}from"../chunks/nV-4aG2w.js";import{H as Ce}from"../chunks/C2YnBynH.js";import{A as z}from"../chunks/Gc-VDlzX.js";import{L as P}from"../chunks/BDMEyPIU.js";import{H as Me}from"../chunks/CqbZHWF5.js";import{u as S}from"../chunks/DrOXcJQ-.js";var Pe=k('<h2 class="text-center">Current Conditions</h2>'),Ue=k('<h2 class="mt-6">What is this?</h2>'),Ae=k('<h2 class="mt-6">Historical Conditions</h2>'),De=k('<div><div class="flex flex-wrap gap-3"><div> </div> <div> </div></div> <div class="flex flex-wrap gap-3"><div> </div> <div> </div> <div> </div></div> <div class="flex flex-wrap gap-3"><div> </div></div></div>'),He=k(`<!> <h1 class="text-center">The best weather in America is currently in<br> </h1> <!> <div class="text-center mt-6"> </div> <iframe style="width:100%; height:400px" class="mt-6" title="Map"></iframe> <div class="text-center mt-6"> </div> <h3 class="mt-6">Table of Contents</h3> <div class="mt-1">1. <!><br> 2. <!><br> 3. <!></div> <!> <div class="mt-6">With most weather apps, you enter a location and the app tells you the weather at that location.
	This app does the opposite: it tells you a location where the weather is good.</div> <div class="mt-6">This app considers the best outdoor weather to be the following:<br> <br> - 50% relative humidity<br> - 5 mph wind<br> - 0% chance of precipitation</div> <div class="mt-6"> </div> <div class="mt-6">Outdoor temperature is slightly more complicated due to factors such as sunlight and wind. People
	like having a slight breeze when outdoors; stagnant air outdoors makes people feel uncomfortable.
	Accounting for this, this project picks an ideal temperature that is slightly higher than room
	temperature to account for wind chill. This allows for outdoor recreation without overheating, but
	doesn't necessitate a sweater or physical movement to stay warm. Preferences for humidity and
	precipitation are more consistent across the population, 50% and 0 respectively.</div> <div class="mt-6">Behind the scenes, this app queries the <!> for information about current weather conditions throughout the United States. To maximize performance,
	this app uses a lower spatial resolution than the National Weather Service. This means that the city
	that actually has the best weather at any given time might be several miles away from the city that
	this app claims to have the best weather.</div> <!> <div class="mt-3">The following is a list of cities that had the best weather in America at some point in the last
	24 hours. Times are listed in US Eastern Time.</div> <div class="flex flex-col gap-6 mt-6"></div>`,1);function Oe(oe,se){ge(se,!0);let B=g(!1),E=g(M([])),U=g(0),A=N(()=>e(E).filter(t=>t.unixTimeSeconds===void 0?!0:t.unixTimeSeconds<=e(U)&&t.unixTimeSeconds>e(U)-86400)),d=N(()=>e(A).length>0?e(A)[0]:{});const ne=async()=>{const t=new TextDecoder().decode(new Uint8Array([104,116,116,112,115,58,47,47,119,101,98,45,97,112,105,46,97,97,114,111,110,115,116,97,110,101,107,46,99,111,109,47,98,101,115,116,45,119,101,97,116,104,101,114,45,105,110,45,97,109,101,114,105,99,97]));let r;try{r=await fetch(t)}catch{return"error-network"}if(!r.ok)return"error-server";let i;try{i=await r.json()}catch(o){return o instanceof SyntaxError?"error-server":"error-network"}if(!Array.isArray(i))return"error-server";const h=[];for(let o of i){if(typeof o!="object"||o===null)return"error-server";const m=o.unixTimeSeconds,w=o.easternTimeString,x=o.city,v=o.state,p=o.temperature,b=o.humidity,f=o.wind,T=o.rain;h.push({unixTimeSeconds:typeof m=="number"&&isFinite(m)?m:void 0,easternTimeString:typeof w=="string"&&w.length<=8?w:void 0,city:typeof x=="string"&&x.length<=100?x:void 0,state:typeof v=="string"&&v.length===2?v:void 0,temperature:typeof p=="string"&&p.length<=8?p:void 0,humidity:typeof b=="string"&&b.length<=8?b:void 0,wind:typeof f=="string"&&f.length<=8?f:void 0,rain:typeof T=="string"&&T.length<=16?T:void 0})}return u(E,M(h)),"ok"};let $=g(void 0),D=g(0);const R=t=>{const r=Math.floor(t/36e5)*36e5;u(U,M(Math.round(r/1e3)));const i=e(D)-t,h=r+36e5-t;u($,M(setTimeout(O,Math.min(6e4,i,h))))},O=async()=>{if(u($,void 0),Date.now()<e(D)){R(Date.now());return}let t=100;for(;;){if(e(B))return;const o=await ne();if(o==="ok")break;if(o==="error-server"){console.error("server error");return}await new Promise(m=>setTimeout(m,t)),t=Math.min(t*2,6e4)}const r=Date.now(),i=Math.floor((r+12e4)/36e5)*36e5,h=Math.floor(Math.random()*105e3)+14e3;u(D,i+36e5-h),R(r)};Se(()=>{new URL(window.location.href).hostname==="aaronstanek.com"&&O()}),ke(()=>{u(B,!0),e($)!==void 0&&(clearTimeout(e($)),u($,void 0))});let _=g(void 0);ye(()=>{if(e(_)===void 0)return;if(e(d).city===void 0||e(d).state===void 0){e(_).src="about:blank";return}const t=new TextDecoder().decode(new Uint8Array([104,116,116,112,115,58,47,47,119,119,119,46,103,111,111,103,108,101,46,99,111,109,47,109,97,112,115,47,101,109,98,101,100,47,118,49,47,112,108,97,99,101,63,107,101,121,61,65,73,122,97,83,121,65,118,76,122,102,121,116,85,98,111,110,75,67,52,78,55,77,118,111,112,50,90,66,52,89,48,78,102,111,95,99,117,52])),r=encodeURIComponent(`${e(d).city}, ${e(d).state}, United States`);e(_).src=`${t}&q=${r}&zoom=5`});var G=He(),J=$e(G);const de=N(()=>`Discover the current best weather in the United States! This real-time tracker reveals the top outdoor conditions nationwide${S.em}perfect for travel planning, road trips, or a spontaneous weekend getaway.`);Ce(J,{canonicalUrl:"https://aaronstanek.com/projects/best-weather-in-america",title:"Best Weather in America",get description(){return e(de)}});var H=a(J,2),he=a(n(H),2);s(H);var K=a(H,2);Me(K,{children:(t,r)=>{z(t,{name:"current-conditions",children:(i,h)=>{var o=Pe();l(i,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var W=a(K,2),ce=n(W);s(W);var Q=a(W,2);Te(Q,t=>u(_,t),()=>e(_));var F=a(Q,2),le=n(F);s(F);var L=a(F,4),V=a(n(L));P(V,{href:"#current-conditions",children:(t,r)=>{y();var i=C("Current Conditions");l(t,i)},$$slots:{default:!0}});var X=a(V,3);P(X,{href:"#what-is-this",children:(t,r)=>{y();var i=C("What is this?");l(t,i)},$$slots:{default:!0}});var ue=a(X,3);P(ue,{href:"#historical-conditions",children:(t,r)=>{y();var i=C("Historical Conditions");l(t,i)},$$slots:{default:!0}}),s(L);var Y=a(L,2);z(Y,{name:"what-is-this",children:(t,r)=>{var i=Ue();l(t,i)},$$slots:{default:!0}});var j=a(Y,4),me=a(n(j),2);y(6),s(j);var q=a(j,2),ve=n(q);s(q);var I=a(q,4),pe=a(n(I));P(pe,{href:"https://www.weather.gov/",children:(t,r)=>{y();var i=C("US National Weather Service");l(t,i)},$$slots:{default:!0}}),y(),s(I);var Z=a(I,2);z(Z,{name:"historical-conditions",children:(t,r)=>{var i=Ae();l(t,i)},$$slots:{default:!0}});var ee=a(Z,4);xe(ee,21,()=>e(A),be,(t,r)=>{var i=De(),h=n(i),o=n(h),m=n(o,!0);s(o);var w=a(o,2),x=n(w);s(w),s(h);var v=a(h,2),p=n(v),b=n(p,!0);s(p);var f=a(p,2),T=n(f);s(f);var te=a(f,2),fe=n(te);s(te),s(v);var re=a(v,2),ie=n(re),we=n(ie);s(ie),s(re),s(i),ae(()=>{c(m,e(r).easternTimeString??"?"),c(x,`${e(r).city??"?"}, ${e(r).state??"?"}`),c(b,e(r).temperature??`?${S.degree}F`),c(T,`${e(r).humidity??"?"} humidity`),c(fe,`${e(r).wind??"?"} wind`),c(we,`${e(r).rain??"? chance"} of precipitation`)}),l(t,i)}),s(ee),ae(()=>{c(he,`${e(d).city??"?"}, ${e(d).state??"?"}.`),c(ce,`The temperature is ${e(d).temperature??"?"} with ${e(d).humidity??"?"} humidity,
	${e(d).wind??"?"} wind, and ${e(d).rain??"? chance"} of precipitation.`),c(le,`This information was last updated at ${e(d).easternTimeString??"?"} Eastern Time. This
	page updates automatically as new information becomes available.`),c(me,` - 70${S.degree}F`),c(ve,`Deciding what "best" means in terms of weather is actually quite difficult. Weather preferences
	vary from person to person, but there are some consistent patterns. 20${S.degree}C (68${S.degree}F)
	is used as the standard for "room temperature". This is the temperature at which the greatest
	number of people feel comfortable indoors.`)}),l(oe,G),_e()}export{Oe as component};
