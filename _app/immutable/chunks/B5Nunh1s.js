import{a7 as o,ac as M,j as O,J as U,ad as F,ae as j,af as x,ag as G,ah as $,g as c,d as z,ai as H,aj as J,a9 as B,ak as K,aa as V,al as X,am as Z,an as p,ao as Q,e as C,T as W,K as D,X as k,ap as aa}from"./DVmdCokJ.js";import{p as ra}from"./D1rJHNN0.js";function w(a,r){return a===r||(a==null?void 0:a[F])===r}function sa(a={},r,f,l){return o(()=>{var s,i;return M(()=>{s=i,i=[],O(()=>{a!==f(...i)&&(r(a,...i),s&&w(f(...s),a)&&r(null,...s))})}),()=>{U(()=>{i&&w(f(...i),a)&&r(null,...i)})}}),a}let P=!1;function ea(a){var r=P;try{return P=!1,[a(),P]}finally{P=r}}function y(a){for(var r=D,f=D;r!==null&&!(r.f&(H|J));)r=r.parent;try{return B(r),a()}finally{B(f)}}function ta(a,r,f,l){var q;var s=(f&K)!==0,i=!V||(f&X)!==0,S=(f&Z)!==0,N=(f&aa)!==0,A=!1,n;S?[n,A]=ea(()=>a[r]):n=a[r];var Y=F in a||p in a,v=S&&(((q=j(a,r))==null?void 0:q.set)??(Y&&r in a&&(e=>a[r]=e)))||void 0,t=l,E=!0,h=!1,T=()=>(h=!0,E&&(E=!1,N?t=O(l):t=l),t);n===void 0&&l!==void 0&&(v&&i&&Q(),n=T(),v&&v(n));var u;if(i)u=()=>{var e=a[r];return e===void 0?T():(E=!0,h=!1,e)};else{var b=y(()=>(s?C:W)(()=>a[r]));b.f|=x,u=()=>{var e=c(b);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(f&G))return u;if(v){var m=a.$$legacy;return function(e,_){return arguments.length>0?((!i||!_||m||A)&&v(_?u():e),e):u()}}var I=!1,L=!1,R=k(n),d=y(()=>C(()=>{var e=u(),_=c(R);return I?(I=!1,L=!0,_):(L=!1,R.v=e)}));return s||(d.equals=$),function(e,_){if(arguments.length>0){const g=_?c(d):i&&S?ra(e):e;return d.equals(g)||(I=!0,z(R,g),h&&t!==void 0&&(t=g),O(()=>c(d))),e}return c(d)}}export{sa as b,ta as p};
